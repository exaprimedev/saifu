<!DOCTYPE html>
<html lang="ja" class="h-100">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>saifu</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"> //cssファイルの設定など
</head>

<body class="d-flex flex-column h-100">
    <input type="hidden" id="hid_tehai" name="hid_tehai">
    <header>
        <nav class="navbar navbar-light fixed-top bg-light">
            <div class="input-group">
                <input type="text" id="keyword" class="form-control" aria-label="score" aria-describedby="button-addon4" readonly>
                <input type="text" id="keyword" class="form-control" aria-label="score" aria-describedby="button-addon4">
                <div class="input-group-append" id="button-addon4">
                    <button class="btn btn-outline-secondary" type="button" onclick="selectPai(this)">＋</button>
                </div>
                <div class="input-group-append" id="button-addon4">
                    <button class="btn btn-outline-secondary" type="button" onclick="selectPai(this)">△</button>
                </div>
            </div>

        </nav>
    </header>
    <!-- ページコンテンツ -->
    <main role="main" class="flex-shrink-0">
        <div class="card" style="padding-top:30px;">
            <div class="card-header">
                <strong>
                    <span id="bakaze">東</span>
                    <span id="kyoku">1</span>局：
                    <span id="honba">0</span>本場：
                    <span id="oya">親</span>：ドラ表示：
                </strong>
                <img style="width:23px;height:auto;" src="imgs/p2.png">
            </div>
            <div class="card-body text-center">
                <img style="width:23px;height:auto;" src="imgs/m1.png">
                <img style="width:23px;height:auto;" src="imgs/m2.png">
                <img style="width:23px;height:auto;" src="imgs/m3.png">
                <img style="width:23px;height:auto;" src="imgs/m4.png">
                <img style="width:23px;height:auto;" src="imgs/m4.png">
                <img style="width:23px;height:auto;" src="imgs/m4.png">
                <br>
                <img style="width:23px;height:auto;" src="imgs/p2.png">
                <img style="width:23px;height:auto;" src="imgs/p3.png">
                <img style="width:23px;height:auto;" src="imgs/s4.png">
                <img style="width:23px;height:auto;" src="imgs/s6.png">
                <img style="width:23px;height:auto;" src="imgs/z1.png">
                <img style="width:23px;height:auto;" src="imgs/z1.png">
                <br>
                <img style="width:23px;height:auto;" src="imgs/s6.png">
                <img style="width:23px;height:auto;" src="imgs/z1.png">
                <img style="width:32px;height:auto;" src="imgs/z1_h.png">
            </div>
        </div>
        <div class="list-group" id="tehai">
            <li class="list-group-item">
                <img style="width:14px;height:auto;" src="imgs/m1.png">
                <img style="width:14px;height:auto;" src="imgs/m2.png">
                <img style="width:14px;height:auto;" src="imgs/m5r.png">
                <img style="width:14px;height:auto;" src="imgs/p2.png">
                <img style="width:14px;height:auto;" src="imgs/p5.png">
                <img style="width:14px;height:auto;" src="imgs/p7.png">
                <img style="width:14px;height:auto;" src="imgs/p8.png">
                <img style="width:14px;height:auto;" src="imgs/s3.png">
                <img style="width:14px;height:auto;" src="imgs/s4.png">
                <img style="width:14px;height:auto;" src="imgs/s4.png">
                <img style="width:14px;height:auto;" src="imgs/z5.png">
                <img style="width:14px;height:auto;" src="imgs/z1.png">
                <img style="width:14px;height:auto;" src="imgs/z1.png">
                <img style="width:20px;height:auto;" src="imgs/z1_h.png">
                <img style="width:14px;height:auto;" src="imgs/z1.png">
            </li>
        </div>
        <div class="list-group overflow-hidden" style="max-height: 80px;" id="history">

        </div>
        <!-- /container -->
        <div class="modal" tabindex="-1" role="dialog" id="tehai_confirm_modal">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">配牌確認</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="閉じる">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <!-- /.modal-header -->
                    <div class="modal-body" id="tehai_confirm_modal_body">
                    </div>
                    <!-- /.modal-body -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">OK</button>
                        <button type="button" class="btn btn-primary" id="modal_close">クリア</button>
                    </div>
                    <!-- /.modal-footer -->
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <!-- /.modal -->
    </main>

    <!-- フッタ -->
    <footer class="footer mt-auto py-3 bg-light">
        <div id="inputpai_m" class="w-100" style="text-align: center;">
        </div>
        <div id="inputpai_p" class="w-100" style="text-align: center;">
        </div>
        <div id="inputpai_s" class="w-100" style="text-align: center;">
        </div>
        <div id="inputpai_z" class="w-100" style="text-align: center;">
        </div>
    </footer>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=" anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    ‘
    <!-- Optional JavaScript -->
    <script>
        var w = 0;
        var inputpai_w = 0;
        var tehai_w = 0;
        var tehai_w_h = 0;
        var arr_tehai = [];
        $(function() {
            w = $(window).width();
            inputpai_w = w * 0.088;
            console.log(w + ":" + inputpai_w);
            var inputpai_m_out = "";
            var inputpai_p_out = "";
            var inputpai_s_out = "";
            var inputpai_z_out = "";
            for (var idx = 1; idx < 10; idx++) {
                inputpai_m_out += '<a href="#" id="m' + idx + '" onclick="selectPai(this)"><img style="width:' + inputpai_w + 'px;height:auto;" src="imgs/m' + idx + '.png"></a>';
                inputpai_p_out += '<a href="#" id="p' + idx + '" onclick="selectPai(this)"><img style="width:' + inputpai_w + 'px;height:auto;" src="imgs/p' + idx + '.png"></a>';
                inputpai_s_out += '<a href="#" id="s' + idx + '" onclick="selectPai(this)"><img style="width:' + inputpai_w + 'px;height:auto;" src="imgs/s' + idx + '.png"></a>';
            }
            inputpai_m_out += '<a href="#" id="m5r" onclick="selectPai(this)"><img style="width:' + inputpai_w + 'px;height:auto;" src="imgs/m5r.png"></a>';
            inputpai_p_out += '<a href="#" id="p5r" onclick="selectPai(this)"><img style="width:' + inputpai_w + 'px;height:auto;" src="imgs/p5r.png"></a>';
            inputpai_s_out += '<a href="#" id="s5r" onclick="selectPai(this)"><img style="width:' + inputpai_w + 'px;height:auto;" src="imgs/s5r.png"></a>';
            for (var idx = 1; idx < 8; idx++) {
                inputpai_z_out += '<a href="#" id="z' + idx + '" onclick="selectPai(this)"><img style="width:' + inputpai_w + 'px;height:auto;" src="imgs/z' + idx + '.png"></a>';
            }
            $("#inputpai_m").html(inputpai_m_out);
            $("#inputpai_p").html(inputpai_p_out);
            $("#inputpai_s").html(inputpai_s_out);
            $("#inputpai_z").html(inputpai_z_out);
        });

        function selectPai(elm) {
            var out = $("#tehai").html();
            if (arr_tehai.length <= 13) {
                arr_tehai.push(elm.id)
                out += "";
                if (arr_tehai.length == 13) {
                    $("#tehai_confirm_modal_body").html($("#tehai").html());
                    $("#tehai_confirm_modal").modal();
                }
            }
            $("#tehai").val(arr_tehai.join());
            console.log(arr_tehai);
        }
    </script>
</body>